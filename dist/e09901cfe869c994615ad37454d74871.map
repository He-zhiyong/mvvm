{"version":3,"sources":["mvvm\\src\\core\\instance\\proxy.js","mvvm\\src\\core\\observer\\dep.js","mvvm\\src\\core\\observer\\index.js","mvvm\\src\\core\\instance\\init.js","mvvm\\src\\core\\compile\\index.js","mvvm\\src\\core\\observer\\watcher.js","mvvm\\src\\core\\instance\\lifecycle.js","mvvm\\src\\core\\index.js","mvvm\\src\\index.js"],"names":["proxy","target","sourceKey","key","Object","defineProperty","configurable","set","newVal","get","pushTarget","popTarget","Dep","sub","addDep","push","update","targetStack","_target","pop","observer","Observer","value","walk","obj","keys","forEach","defineReactive","dep","notify","addDepend","initOptions","LIFECYCLE_HOOKS","vm","_data","$options","data","hook","compiler","el","$el","document","querySelector","fragment","createDocumentFragment","replace","frag","Array","from","childNodes","txt","node","textContent","reg","nodeType","test","arr","RegExp","$1","split","val","trim","$watch","nodeAttr","attributes","name","attr","exp","index","addEventListener","e","length","Watcher","expression","callBack","getVal","addSub","call","callHook","handlers","MVVM","options","window"],"mappings":"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","file":"e09901cfe869c994615ad37454d74871.map","sourcesContent":["export default function proxy(target, sourceKey, key) {\r\n  Object.defineProperty(target, key, {\r\n    configurable: true,\r\n    set(newVal) {\r\n      target[sourceKey][key] = newVal\r\n    },\r\n    get() {\r\n      return target[sourceKey][key]\r\n    }\r\n  })\r\n}","export default class Dep {\r\n  constructor() {\r\n    this.sub = []\r\n  }\r\n  addDepend() {\r\n    Dep.target.addDep(this)\r\n  }\r\n  addSub(sub) {\r\n    this.sub.push(sub)\r\n  }\r\n  notify() {\r\n    for (let sub of this.sub) {\r\n      sub.update()\r\n    }\r\n  }\r\n}\r\n\r\nDep.target = null\r\nconst targetStack = []\r\n\r\nexport function pushTarget(_target) {\r\n  if (Dep.target) targetStack.push(Dep.target)\r\n  Dep.target = _target\r\n}\r\n\r\nexport function popTarget() {\r\n  Dep.target = targetStack.pop()\r\n}","import Dep from './dep'\r\n\r\nclass Observer {\r\n  constructor(value) {\r\n    this.walk(value)\r\n  }\r\n\r\n  walk(obj) {\r\n    Object.keys(obj).forEach(key => {\r\n      if (typeof obj[key] === 'object') {\r\n        this.walk(obj[key])\r\n      }\r\n      defineReactive(obj, key, obj[key])\r\n    })\r\n  }\r\n}\r\n\r\nconst defineReactive = (obj, key, value) => {\r\n  let dep = new Dep() //实例化一个依赖收集器\r\n  Object.defineProperty(obj, key, {\r\n    set(newVal) {\r\n      if (newVal === value) return\r\n      value = newVal\r\n      dep.notify() //通知依赖更新数据\r\n    },\r\n    get() {\r\n      if (Dep.target) dep.addDepend() //添加依赖收集\r\n      return value\r\n    }\r\n  })\r\n}\r\n\r\nexport default function observer(value) {\r\n  if (!value || typeof value !== 'object') return\r\n  return new Observer(value)\r\n}","import observer from '../observer'\r\nconst LIFECYCLE_HOOKS = [\r\n  'created',\r\n  'mounted'\r\n]\r\n\r\nexport default function initOptions(vm) {\r\n  vm._data = vm.$options.data\r\n  observer(vm._data)\r\n  LIFECYCLE_HOOKS.forEach(hook => {\r\n    vm.$options[hook] = vm.$options[hook] || function () {}\r\n  })\r\n}","export default class compiler {\r\n  constructor(el, vm) {\r\n    vm.$el = document.querySelector(el)\r\n    let fragment = document.createDocumentFragment()\r\n    this.replace(vm.$el, vm)\r\n  }\r\n  replace(frag, vm) {\r\n    Array.from(frag.childNodes).forEach(node => {\r\n      let txt = node.textContent\r\n      let reg = /\\{\\{(.*?)\\}\\}/ // 正则匹配{{}}\r\n\r\n      if (node.nodeType === 3 && reg.test(txt)) {\r\n        let arr = RegExp.$1.split('.')\r\n        let val = vm\r\n        arr.forEach(key => {\r\n          val = val[key]\r\n        })\r\n        node.textContent = txt.replace(reg, val).trim()\r\n        vm.$watch(RegExp.$1, newVal => {\r\n          node.textContent = txt.replace(reg, newVal).trim()\r\n        })\r\n      }\r\n\r\n      if (node.nodeType === 1) {\r\n        let nodeAttr = node.attributes\r\n        Array.from(nodeAttr).forEach(attr => {\r\n          let name = attr.name\r\n          //判断是否是v-model,然后做绑定数据处理\r\n          if (name === 'v-model') {\r\n            let exp = attr.value\r\n            let arr = exp.split('.')\r\n            //input初始化赋值\r\n            let value = vm\r\n            arr.forEach((key, index) => {\r\n              value = value[key]\r\n            })\r\n            node.value = value\r\n            //添加监听数据值变化\r\n            vm.$watch(exp, newVal => {\r\n              node.value = newVal\r\n            })\r\n            //添加事件监听input值变化\r\n            node.addEventListener('input', e => {\r\n              let newVal = e.target.value\r\n              let val = vm\r\n              arr.forEach((key, index) => {\r\n                if (index === arr.length - 1) {\r\n                  val[key] = newVal\r\n                  return\r\n                }\r\n                val = val[key]\r\n              })\r\n            })\r\n          }\r\n        })\r\n      }\r\n\r\n      if (node.childNodes && node.childNodes.length) {\r\n        this.replace(node, vm)\r\n      }\r\n    })\r\n  }\r\n}","import {\r\n  popTarget,\r\n  pushTarget\r\n} from './dep'\r\n\r\nexport default class Watcher {\r\n  constructor(vm, expression, callBack) {\r\n    this.vm = vm\r\n    this.callBack = callBack\r\n    this.expression = expression\r\n    this.value = this.getVal()\r\n  }\r\n  getVal() {\r\n    pushTarget(this)\r\n    let val = this.vm\r\n    this.expression.split('.').forEach(key => {\r\n      val = val[key]\r\n    })\r\n    popTarget()\r\n    return val\r\n  }\r\n  addDep(dep) {\r\n    dep.addSub(this)\r\n  }\r\n  update() {\r\n    let val = this.vm\r\n    this.expression.split('.').forEach(key => {\r\n      val = val[key]\r\n    })\r\n    this.callBack.call(this.vm, val)\r\n  }\r\n}","export function callHook(vm, hook) {\r\n  const handlers = vm.$options[hook]\r\n  if (handlers) handlers.call(vm)\r\n}","import proxy from './instance/proxy'\r\nimport initOptions from './instance/init'\r\nimport Compiler from './compile'\r\nimport Watcher from './observer/watcher'\r\nimport {\r\n  callHook\r\n} from './instance/lifecycle'\r\n\r\nexport default class MVVM {\r\n  constructor(options = {}) {\r\n    let vm = this\r\n    vm.$options = options\r\n    vm.$watch = function (key, callBack) {\r\n      new Watcher(vm, key, callBack)\r\n    }\r\n    initOptions(vm)\r\n    for (let key in vm._data) {\r\n      proxy(vm, '_data', key)\r\n    }\r\n    callHook(vm, 'created')\r\n    new Compiler(vm.$options.el, vm)\r\n    callHook(vm, 'mounted')\r\n  }\r\n}\r\n","import MVVM from './core/index'\r\n\r\nif (window) {\r\n  window.MVVM = MVVM\r\n}\r\n\r\nexport default MVVM"]}